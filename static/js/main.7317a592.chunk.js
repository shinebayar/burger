(this.webpackJsonpburger=this.webpackJsonpburger||[]).push([[0],{12:function(e,t,r){e.exports={BreadTop:"style_BreadTop__2PHJ2",BreadSeed:"style_BreadSeed__3jPid",Second:"style_Second__1-71S",Third:"style_Third__3H3Xq",Fourth:"style_Fourth__3lewO",Salad:"style_Salad__2EIoJ",Meat:"style_Meat__2DsPq",Bacon:"style_Bacon__7FMKQ",Cheese:"style_Cheese__3jiLW",BreadBottom:"style_BreadBottom__1OEic"}},21:function(e,t,r){e.exports={SideBar:"style_SideBar__2tUj3",Logo:"style_Logo__1N-Mi",Open:"style_Open__G7HxE",Close:"style_Close__90SOI"}},24:function(e,t,r){e.exports={BuildControl:"style_BuildControl__1SwkA",Label:"style_Label__2XgMS",Less:"style_Less__2I03i",More:"style_More__2-Yv2"}},29:function(e,t,r){e.exports={BuildControls:"style_BuildControls__ferUX",Price:"style_Price__17GBs",OrderButton:"style_OrderButton__2fkaA",enable:"style_enable__254cz"}},31:function(e,t,r){e.exports={Toolbar:"style_Toolbar__syexp",HideOnMobile:"style_HideOnMobile__sRvhX"}},32:function(e,t,r){e.exports={MenuItem:"style_MenuItem__1REOK",active:"style_active__39agr"}},35:function(e,t,r){e.exports={Button:"style_Button__2eZhJ",Success:"style_Success__QcaO-",Danger:"style_Danger__3uoaP"}},46:function(e,t,r){e.exports={Content:"style_Content__ov1yh"}},47:function(e,t,r){e.exports={Logo:"style_Logo__igi5U"}},48:function(e,t,r){e.exports={Menu:"style_Menu__sWvD-"}},49:function(e,t,r){e.exports={HamburgerMenu:"style_HamburgerMenu__EytmZ"}},50:function(e,t,r){e.exports={Burger:"style_Burger__zLyv2"}},51:function(e,t,r){e.exports={Modal:"style_Modal__NgMQb"}},52:function(e,t,r){e.exports={Shadow:"style_Shadow__mWVST"}},53:function(e,t,r){e.exports={Loader:"style_Loader__22ysZ",load1:"style_load1__1oyvc"}},54:function(e,t,r){e.exports={Order:"style_Order__28BoZ"}},55:function(e,t,r){e.exports={DeliveryData:"style_DeliveryData__25A9k"}},56:function(e,t,r){e.exports={ShippingPage:"style_ShippingPage__2Q6QL"}},57:function(e,t,r){e.exports={Login:"style_Login__ZcZlH"}},58:function(e,t,r){e.exports={Signup:"style_Signup__PdYTz"}},68:function(e,t,r){},72:function(e,t,r){},91:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(28),i=r.n(c),a=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,92)).then((function(t){var r=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),s(e),c(e),i(e)}))},o=r(16),d=r(25),u=r(4),l=r(59),j=(r(68),r(18)),b=r(6),g=r(7),p=r(9),O=r(8),h=r(20),f=r(46),x=r.n(f),_=r(31),m=r.n(_),y=r(47),S=r.n(y),v=r.p+"static/media/burger-logo.ec69c7f6.png",R=r(0),I=function(){return Object(R.jsx)("div",{className:S.a.Logo,children:Object(R.jsx)("img",{src:v})})},C=r(32),E=r.n(C),w=function(e){return Object(R.jsx)("li",{className:E.a.MenuItem,children:Object(R.jsxs)(o.b,{exact:e.exact,activeClassName:E.a.active,to:e.link,children:[" ",e.children," "]})})},N=r(48),k=r.n(N),D=Object(u.b)((function(e){return{userId:e.signupReducer.userId}}),null)((function(e){return Object(R.jsx)("div",{children:Object(R.jsx)("ul",{className:k.a.Menu,children:e.userId?Object(R.jsxs)(n.Fragment,{children:[Object(R.jsx)(w,{exact:!0,link:"/",children:"New Order"}),Object(R.jsx)(w,{exact:!0,link:"/orders",children:"Orders"}),Object(R.jsx)(w,{exact:!0,link:"/logout",children:"Logout"})]}):Object(R.jsxs)(n.Fragment,{children:[Object(R.jsx)(w,{exact:!0,link:"/login",children:"Login"}),Object(R.jsx)(w,{exact:!0,link:"/signup",children:"Sign up"})]})})})})),T=r(49),P=r.n(T),M=function(e){return Object(R.jsxs)("div",{onClick:e.toggleSidebar,className:P.a.HamburgerMenu,children:[Object(R.jsx)("div",{}),Object(R.jsx)("div",{}),Object(R.jsx)("div",{})]})},A=function(e){return Object(R.jsxs)("header",{className:m.a.Toolbar,children:[Object(R.jsx)(M,{toggleSidebar:e.toggleSidebar}),Object(R.jsx)(I,{}),Object(R.jsx)("nav",{className:m.a.HideOnMobile,children:Object(R.jsx)(D,{})})]})},L=r(12),B=r.n(L),U=function(e){return"bread-top"===e.type?Object(R.jsxs)("div",{className:B.a.BreadTop,children:[Object(R.jsx)("div",{className:B.a.BreadSeed}),Object(R.jsx)("div",{className:"".concat(B.a.BreadSeed," ").concat(B.a.Second)}),Object(R.jsx)("div",{className:"".concat(B.a.BreadSeed," ").concat(B.a.Third)}),Object(R.jsx)("div",{className:"".concat(B.a.BreadSeed," ").concat(B.a.Fourth)})]}):"salad"===e.type?Object(R.jsx)("div",{className:B.a.Salad}):"bacon"===e.type?Object(R.jsx)("div",{className:B.a.Bacon}):"meat"===e.type?Object(R.jsx)("div",{className:B.a.Meat}):"cheese"===e.type?Object(R.jsx)("div",{className:B.a.Cheese}):"bread-bottom"===e.type?Object(R.jsx)("div",{className:B.a.BreadBottom}):Object(R.jsx)("div",{children:"..."})},G=r(50),F=r.n(G),H=Object(u.b)((function(e){return{ingredients:e.burgerReducer.ingredients}}))((function(e){var t=Object.entries(e.ingredients),r=[];return t.map((function(e,t){for(var n=0;n<e[1];n++)r.push(Object(R.jsx)(U,{type:e[0]},"".concat(t).concat(n)))})),0===r.length&&(r=Object(R.jsx)("p",{children:"Please, choose your ingredients"})),Object(R.jsxs)("div",{className:F.a.Burger,children:[Object(R.jsx)(U,{type:"bread-top"}),r,Object(R.jsx)(U,{type:"bread-bottom"})]})})),V=r(2),Y=r(24),Q=r.n(Y),X=function(e){return Object(R.jsxs)("div",{className:Q.a.BuildControl,children:[Object(R.jsxs)("div",{className:Q.a.Label,children:[e.ingredient," (",e.ingPrice[e.type]," $)"]}),Object(R.jsx)("button",{disabled:e.disabled[e.type],onClick:function(){return e.subtractIngredient(e.type)},className:Q.a.Less,children:" - "}),Object(R.jsx)("button",{onClick:function(){return e.addIngredient(e.type)},className:Q.a.More,children:" + "})]})},Z=r(29),q=r.n(Z),z=Object(u.b)((function(e){return{price:e.burgerReducer.totalPrice,ingredientsNames:e.burgerReducer.ingredientNames,ingPrices:e.burgerReducer.ingredientPrices,ingredients:e.burgerReducer.ingredients,purchasing:e.burgerReducer.purchasing}}),(function(e){return{addIngredient:function(t){return e({type:"ADD_INGREDIENT",ingredient:t})},subtractIngredient:function(t){return e({type:"REMOVE_INGREDIENT",ingredient:t})}}}))((function(e){var t=Object(V.a)({},e.ingredients);for(var r in t)t[r]=t[r]<=0;return Object(R.jsxs)("div",{className:q.a.BuildControls,children:[Object(R.jsxs)("div",{children:["Burger price: ",Object(R.jsxs)("span",{className:q.a.Price,children:[e.price," $"]})]}),Object.keys(e.ingredientsNames).map((function(r){return Object(R.jsx)(X,{ingPrice:e.ingPrices,disabled:t,subtractIngredient:e.subtractIngredient,addIngredient:e.addIngredient,type:r,ingredient:e.ingredientsNames[r]},r)})),Object(R.jsx)("button",{onClick:e.showConfirmModal,disabled:!e.purchasing,className:q.a.OrderButton,children:" Order "})]})})),J=r(51),W=r.n(J),$=r(52),K=r.n($),ee=function(e){return e.show?Object(R.jsx)("div",{onClick:e.onClick,className:K.a.Shadow}):null},te=function(e){return Object(R.jsxs)("div",{children:[Object(R.jsx)(ee,{show:e.show,onClick:e.closeConfirmModal}),Object(R.jsx)("div",{style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},className:W.a.Modal,children:e.children})]})},re=r(35),ne=r.n(re),se=function(e){return Object(R.jsx)("button",{onClick:e.clicked,className:"".concat(ne.a.Button," ").concat(ne.a[e.type]),children:e.text})},ce=Object(u.b)((function(e){return{ingredients:e.burgerReducer.ingredients,price:e.burgerReducer.totalPrice,ingredientsNames:e.burgerReducer.ingredientNames}}))((function(e){return Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{children:"Your order"}),Object(R.jsx)("p",{children:"Your ingredients:"}),Object(R.jsx)("ul",{children:Object.keys(e.ingredients).map((function(t){return Object(R.jsxs)("li",{children:[e.ingredientsNames[t]," : ",e.ingredients[t]]},t)}))}),Object(R.jsx)("p",{children:Object(R.jsxs)("b",{children:["Order summary: ",e.price," $ "]})}),Object(R.jsx)("br",{}),Object(R.jsx)("p",{children:"Do you want to proceed ?"}),Object(R.jsx)(se,{clicked:e.onCancel,type:"Danger",text:"Cancel"}),Object(R.jsx)(se,{clicked:e.onContinue,type:"Success",text:"Continue"})]})})),ie=r(53),ae=r.n(ie),oe=function(){return Object(R.jsx)("div",{className:ae.a.Loader})},de=function(e){Object(p.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={confirmOrder:!1},e.continueOrder=function(){e.props.history.push({pathname:"/shipping"})},e.showConfirmModal=function(){e.setState({confirmOrder:!0})},e.closeConfirmModal=function(){e.setState({confirmOrder:!1})},e}return Object(g.a)(r,[{key:"render",value:function(){return Object(R.jsxs)("div",{children:[Object(R.jsx)(te,{closeConfirmModal:this.closeConfirmModal,show:this.state.confirmOrder,children:this.state.loading?Object(R.jsx)(oe,{}):Object(R.jsx)(ce,{onCancel:this.closeConfirmModal,onContinue:this.continueOrder})}),Object(R.jsx)(H,{}),Object(R.jsx)(z,{showConfirmModal:this.showConfirmModal})]})}}]),r}(n.Component),ue=de,le=r(21),je=r.n(le),be=function(e){var t=[je.a.SideBar,je.a.Close];return e.isOpen&&(t=[je.a.SideBar,je.a.Open]),Object(R.jsxs)("div",{children:[Object(R.jsx)(ee,{show:e.isOpen,onClick:e.toggleSidebar}),Object(R.jsxs)("div",{onClick:e.toggleSidebar,className:t.join(" "),children:[Object(R.jsx)("div",{className:je.a.Logo,children:Object(R.jsx)(I,{})}),Object(R.jsx)(D,{})]})]})},ge=(r(72),r(19)),pe=r.n(ge),Oe=pe.a.create({baseURL:"https://burger-82b7e-default-rtdb.asia-southeast1.firebasedatabase.app/"}),he=r(54),fe=r.n(he),xe=function(e){return Object(R.jsxs)("div",{className:fe.a.Order,children:[Object(R.jsxs)("p",{children:["Address: ",e.order.address.city," | ",e.order.address.district," | ",e.order.address.address," | ",e.order.address.name]}),Object(R.jsxs)("p",{children:[" Ingredients: bacon-",e.order.ingredients.bacon," | cheese-",e.order.ingredients.cheese," | meat-",e.order.ingredients.meat," | salad-",e.order.ingredients.salad," "]}),Object(R.jsxs)("p",{children:[" Price: ",Object(R.jsxs)("b",{children:[e.order.totalPrice,"$"]})," "]})]})},_e=function(){return{type:"LOAD_ORDERS_START"}},me=function(e){return{type:"LOAD_ORDERS_SUCCESS",orders:e}},ye=function(e){return{type:"LOAD_ORDERS_ERROR",error:e}},Se=function(){return{type:"SAVE_ORDER_START"}},ve=function(){return{type:"SAVE_ORDER_SUCCESS"}},Re=function(e){return{type:"SAVE_ORDER_ERROR",errorMessage:e}},Ie=function(e){Object(p.a)(r,e);var t=Object(O.a)(r);function r(){return Object(b.a)(this,r),t.apply(this,arguments)}return Object(g.a)(r,[{key:"componentDidMount",value:function(){this.props.loadOrders(this.props.userId)}},{key:"render",value:function(){return Object(R.jsx)("div",{children:this.props.loading?Object(R.jsx)(oe,{}):this.props.orders.map((function(e){return Object(R.jsx)(xe,{order:e[1]},e[0])}))})}}]),r}(s.a.Component),Ce=Object(u.b)((function(e){return{orders:e.orderReducer.orders,loading:e.orderReducer.loading,userId:e.signupReducer.userId}}),(function(e){return{loadOrders:function(t){return e(function(e){return function(t,r){t(_e());var n=r().signupReducer.token;Oe.get("orders.json?auth=".concat(n,'&orderBy="userId"&equalTo="').concat(e,'"')).then((function(e){t(me(Object.entries(e.data).reverse()))})).catch((function(e){t(ye(e))}))}}(t))}}}))(Ie),Ee=r(5),we=r(55),Ne=r.n(we),ke=function(e){Object(p.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={address:"",city:"",district:"",name:""},e.getName=function(t){e.setState({name:t.target.value})},e.getCity=function(t){e.setState({city:t.target.value})},e.getDistrict=function(t){e.setState({district:t.target.value})},e.getAddress=function(t){e.setState({address:t.target.value})},e.saveOrder=function(){var t={address:{address:e.state.address,city:e.state.city,district:e.state.district,name:e.state.name},ingredients:{bacon:e.props.ingredients.bacon,salad:e.props.ingredients.salad,meat:e.props.ingredients.meat,cheese:e.props.ingredients.cheese},totalPrice:e.props.price,userId:e.props.userId};e.props.saveOrderAction(t)},e}return Object(g.a)(r,[{key:"componentDidUpdate",value:function(){this.props.newOrderStatus.finished&&!this.props.newOrderStatus.error&&this.props.history.replace("/orders")}},{key:"render",value:function(){return Object(R.jsxs)("div",{className:Ne.a.DeliveryData,children:[Object(R.jsx)("br",{}),Object(R.jsx)("div",{children:this.props.newOrderStatus.error&&"Error occured during the saving process: ".concat(this.props.newOrderStatus.error)}),this.props.newOrderStatus.saving?Object(R.jsx)(oe,{}):Object(R.jsxs)("div",{children:["name: ",this.state.name," | city: ",this.state.city," | district: ",this.state.district," | address: ",this.state.address," |",Object(R.jsx)("input",{onChange:this.getName,type:"text",name:"name",placeholder:"Your name"}),Object(R.jsx)("input",{onChange:this.getCity,type:"text",name:"city",placeholder:"City"}),Object(R.jsx)("input",{onChange:this.getDistrict,type:"text",name:"district",placeholder:"District"}),Object(R.jsx)("input",{onChange:this.getAddress,type:"text",name:"address",placeholder:"Address info"}),Object(R.jsx)(se,{text:"SEND",type:"Success",clicked:this.saveOrder})]})]})}}]),r}(s.a.Component),De=Object(u.b)((function(e){return{ingredients:e.burgerReducer.ingredients,price:e.burgerReducer.totalPrice,newOrderStatus:e.orderReducer.newOrder,userId:e.signupReducer.userId}}),(function(e){return{saveOrderAction:function(t){return e(function(e){return function(t,r){t(Se());var n=r().signupReducer.token;Oe.post("/orders.json?auth=".concat(n),e).then((function(e){return t(ve())})).catch((function(e){return t(Re(e))}))}}(t))}}}))(Object(Ee.withRouter)(ke)),Te=r(56),Pe=r.n(Te),Me=function(e){Object(p.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).cancelOrder=function(){e.props.history.replace("/")},e.showDeliveryForm=function(){e.props.history.push("/shipping/delivery")},e}return Object(g.a)(r,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return Object(R.jsxs)("div",{className:Pe.a.ShippingPage,children:[Object(R.jsx)("p",{children:Object(R.jsx)("b",{children:"ORDER INFORMATION"})}),Object(R.jsxs)("p",{children:["Price: ",Object(R.jsxs)("b",{children:[this.props.price,"$"]})]}),Object(R.jsx)(H,{}),Object(R.jsx)(se,{clicked:this.cancelOrder,type:"Danger",text:"CANCEL ORDER"}),Object(R.jsx)(se,{clicked:this.showDeliveryForm,type:"Success",text:"DELIVERY INFORMATION"}),Object(R.jsx)(Ee.Route,{path:"/shipping/delivery",children:Object(R.jsx)(De,{})})]})}}]),r}(s.a.Component),Ae=Object(u.b)((function(e){return{price:e.burgerReducer.totalPrice}}))(Me),Le=r(57),Be=r.n(Le),Ue=function(){return{type:"LOGIN_START"}},Ge=function(e,t){return{type:"LOGIN_SUCCESS",token:e,userId:t}},Fe=function(e){return{type:"LOGIN_ERROR",error:e.response.data.error.message}},He=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("refreshToken"),localStorage.removeItem("expireDate"),{type:"LOGOUT"}},Ve=function(e){return function(t){setTimeout((function(){t(He())}),e)}},Ye=function(e){Object(p.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:""},e.login=function(){e.props.loginUser(e.state.email,e.state.password)},e.getEmail=function(t){e.setState({email:t.target.value})},e.getPassword=function(t){e.setState({password:t.target.value})},e}return Object(g.a)(r,[{key:"render",value:function(){return Object(R.jsxs)("div",{className:Be.a.Login,children:[this.props.userId&&Object(R.jsx)(h.Redirect,{to:"/orders"}),Object(R.jsx)("input",{type:"text",placeholder:"Email",onChange:this.getEmail}),Object(R.jsx)("input",{type:"password",placeholder:"Password",onChange:this.getPassword}),this.props.firebaseError&&Object(R.jsx)("div",{style:{color:"red"},children:this.props.firebaseError}),this.props.logging&&Object(R.jsx)(oe,{}),Object(R.jsx)(se,{text:"login",btnType:"Success",clicked:this.login})]})}}]),r}(n.Component),Qe=Object(u.b)((function(e){return{logging:e.signupReducer.logging,firebaseError:e.signupReducer.firebaseError,token:e.signupReducer.token,userId:e.signupReducer.userId}}),(function(e){return{loginUser:function(t,r){return e(function(e,t){return function(r){r(Ue());var n={email:e,password:t,returnSecureToken:!0};pe.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC0f41hySli4NueeQCqA3njYHsD-f5vykA",n).then((function(e){var t=e.data.idToken,n=e.data.localId;localStorage.setItem("token",t),localStorage.setItem("userId",n);var s=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("expireDate",s),localStorage.setItem("refreshToken",e.data.refreshToken),r(Ge(t,n)),r(Ve(1e3*e.data.expiresIn))})).catch((function(e){return r(Fe(e))}))}}(t,r))}}}))(Ye),Xe=r(58),Ze=r.n(Xe),qe=function(){return{type:"SIGNUP_USER_START"}},ze=function(e,t){return{type:"SIGNUP_USER_SUCCESS",token:e,userId:t}},Je=function(e){return{type:"SIGNUP_USER_ERROR",error:e}},We=function(e){Object(p.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password1:"",password2:"",error:""},e.signup=function(){e.state.password1===e.state.password2?e.props.signupUser(e.state.email,e.state.password1):e.setState({error:"Passwords are not match !"})},e.getEmail=function(t){e.setState({email:t.target.value})},e.getPassword1=function(t){e.setState({password1:t.target.value})},e.getPassword2=function(t){e.setState({password2:t.target.value})},e}return Object(g.a)(r,[{key:"render",value:function(){return Object(R.jsxs)("div",{className:Ze.a.Signup,children:[this.props.userId&&Object(R.jsx)(h.Redirect,{to:"/"}),Object(R.jsx)("h3",{children:"Sign up form"}),Object(R.jsx)("p",{children:"Please input your login information"}),Object(R.jsx)("input",{type:"text",placeholder:"Email",onChange:this.getEmail}),Object(R.jsx)("input",{type:"password",placeholder:"Password",onChange:this.getPassword1}),Object(R.jsx)("input",{type:"password",placeholder:"Repeat your password",onChange:this.getPassword2}),this.state.error&&Object(R.jsx)("div",{style:{color:"red"},children:this.state.error}),this.props.error&&Object(R.jsx)("div",{style:{color:"red"},children:this.props.error}),this.props.saving&&Object(R.jsx)(oe,{}),Object(R.jsx)(se,{text:"REGISTER",btnType:"Success",clicked:this.signup})]})}}]),r}(n.Component),$e=Object(u.b)((function(e){return{saving:e.signupReducer.saving,error:e.signupReducer.firebaseError,userId:e.signupReducer.userId,token:e.signupReducer.token}}),(function(e){return{signupUser:function(t,r){return e(function(e,t){return function(r){r(qe());var n={email:e,password:t,returnSecureToken:!0};pe.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC0f41hySli4NueeQCqA3njYHsD-f5vykA",n).then((function(e){var t=e.data.idToken,n=e.data.localId;localStorage.setItem("token",t),localStorage.setItem("userId",n),r(ze(t,n))})).catch((function(e){return r(Je(e))}))}}(t,r))}}}))(We),Ke=function(e){Object(p.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){e.props.logout()},e}return Object(g.a)(r,[{key:"render",value:function(){return Object(R.jsx)(Ee.Redirect,{to:"/"})}}]),r}(s.a.Component),et=Object(u.b)(null,(function(e){return{logout:function(){return e(He())}}}))(Ke),tt=function(e){Object(p.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(b.a)(this,r);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={showSidebar:!1},e.toggleSidebar=function(){e.setState((function(e){return{showSidebar:!e.showSidebar}}))},e.componentDidMount=function(){var t=localStorage.getItem("token"),r=localStorage.getItem("userId"),n=(localStorage.getItem("refreshToken"),localStorage.getItem("expireDate"));t&&(console.log("expired date: ",n),n>new Date?(console.log("not expired"),e.props.autoLogin(t,r),e.props.logoutAuto(n.getTime()-(new Date).getTime()),console.log("eeeeeeeeeeeeeeeeeeeeeeeeeeee: ",n.getTime()-(new Date).getTime())):(console.log("exipred"),e.props.logout()))},e}return Object(g.a)(r,[{key:"render",value:function(){return Object(R.jsxs)("div",{children:[Object(R.jsx)(A,{toggleSidebar:this.toggleSidebar}),Object(R.jsx)(be,Object(j.a)({toggleSidebar:this.toggleSidebar,isOpen:this.state.showSidebar},"toggleSidebar",this.toggleSidebar)),Object(R.jsx)("main",{className:x.a.Content,children:this.props.userId?Object(R.jsxs)(Ee.Switch,{children:[Object(R.jsx)(Ee.Route,{path:"/logout",component:et}),Object(R.jsx)(Ee.Route,{path:"/orders",component:Ce}),Object(R.jsx)(Ee.Route,{path:"/shipping",component:Ae}),Object(R.jsx)(Ee.Route,{path:"/",component:ue})]}):Object(R.jsxs)(Ee.Switch,{children:[Object(R.jsx)(Ee.Route,{path:"/signup",component:$e}),Object(R.jsx)(Ee.Route,{path:"/login",component:Qe}),Object(R.jsx)(h.Redirect,{to:"/login"})]})})]})}}]),r}(n.Component),rt=Object(u.b)((function(e){return{userId:e.signupReducer.userId}}),(function(e){return{autoLogin:function(t,r){return e(Ge(t,r))},logoutAuto:function(t){return e(Ve(t))},logout:function(){return e(He())}}}))(tt),nt={ingredients:{salad:0,cheese:0,bacon:0,meat:0},totalPrice:1,purchasing:!1,ingredientNames:{bacon:"Bacon",cheese:"Cheese",meat:"Meat",salad:"Salad"},ingredientPrices:{bacon:.8,cheese:.5,meat:1.2,salad:.3}},st={salad:.3,cheese:.5,bacon:.8,meat:1.2},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;if("ADD_INGREDIENT"===t.type)return Object(V.a)(Object(V.a)({},e),{},{ingredients:Object(V.a)(Object(V.a)({},e.ingredients),{},Object(j.a)({},t.ingredient,e.ingredients[t.ingredient]+1)),totalPrice:Math.round(10*(e.totalPrice+st[t.ingredient]))/10,purchasing:!0});if("REMOVE_INGREDIENT"===t.type){var r=Math.round(10*(e.totalPrice-st[t.ingredient]))/10;return Object(V.a)(Object(V.a)({},e),{},{ingredients:Object(V.a)(Object(V.a)({},e.ingredients),{},Object(j.a)({},t.ingredient,e.ingredients[t.ingredient]-1)),totalPrice:r,purchasing:r>1})}return e},it={orders:[],loading:!1,error:null,newOrder:{saving:!1,finished:!1,error:null}},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ORDERS_START":return Object(V.a)(Object(V.a)({},e),{},{loading:!0});case"LOAD_ORDERS_SUCCESS":return Object(V.a)(Object(V.a)({},e),{},{loading:!1,orders:t.orders});case"LOAD_ORDERS_ERROR":return Object(V.a)(Object(V.a)({},e),{},{loading:!1,error:t.error});case"SAVE_ORDER_START":return Object(V.a)(Object(V.a)({},e),{},{newOrder:Object(V.a)(Object(V.a)({},e.newOrder),{},{saving:!0})});case"SAVE_ORDER_SUCCESS":return Object(V.a)(Object(V.a)({},e),{},{newOrder:Object(V.a)(Object(V.a)({},e.newOrder),{},{saving:!1,finished:!0,error:null})});case"SAVE_ORDER_ERROR":return Object(V.a)(Object(V.a)({},e),{},{newOrder:Object(V.a)(Object(V.a)({},e.newOrder),{},{saving:!1,finished:!0,error:t.errorMessage})});default:return e}return e},ot={saving:!1,logging:!1,firebaseError:null,token:null,userId:null},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_USER_START":return Object(V.a)(Object(V.a)({},e),{},{saving:!0});case"SIGNUP_USER_ERROR":return Object(V.a)(Object(V.a)({},e),{},{saving:!1,firebaseError:t.error.response.data.error.message});case"SIGNUP_USER_SUCCESS":return Object(V.a)(Object(V.a)({},e),{},{saving:!1,firebaseError:!1,token:t.token,userId:t.userId});case"LOGIN_START":return Object(V.a)(Object(V.a)({},e),{},{logging:!0});case"LOGIN_SUCCESS":return Object(V.a)(Object(V.a)({},e),{},{logging:!1,token:t.token,userId:t.userId});case"LOGIN_ERROR":return Object(V.a)(Object(V.a)({},e),{},{logging:!1,firebaseError:t.error});case"LOGOUT":return Object(V.a)(Object(V.a)({},e),{},{saving:!1,logging:!1,firebaseError:null,token:null,userId:null});default:return e}},ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,lt=Object(d.b)({burgerReducer:ct,orderReducer:at,signupReducer:dt}),jt=[function(e){return function(t){return function(r){console.log("My logger middleware: Dispatching",r),console.log("State before: ",e.getState());var n=t(r);return console.log("Sate after: ",e.getState()),n}}},l.a],bt=Object(d.d)(lt,ut(d.a.apply(void 0,jt)));i.a.render(Object(R.jsx)(u.a,{store:bt,children:Object(R.jsx)(s.a.StrictMode,{children:Object(R.jsx)(o.a,{children:Object(R.jsx)(rt,{})})})}),document.getElementById("root")),a()}},[[91,1,2]]]);
//# sourceMappingURL=main.7317a592.chunk.js.map